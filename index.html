<!DOCTYPE html>
<html>
  <head>
	  <meta charset="UTF-8">
	  
	<title>478</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
	<script src="d3.js"></script>
<!--
    <link rel="stylesheet" href="bootstrap.min.css">
-->
    
    
<style>
    body{
        font-family:helvetica;
        font-size:20vh;
        text-align:center;
        padding:0px;
        height:100%;
        overflow:hidden;
    }
    .col-md-4{
        padding:0px;
        margin:0px;
    }
    .small{
        font-size:3vh;
        text-align:center;
        line-height:100%;
        padding:1vh;
    }
    .large{
        padding-bottom:4vh;
        line-height:90%;
    }
    .container{
        padding:0px;
        margin: 0px;
        position: absolute;
        top: 50%;
        left: 50%;
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);        
    }
</style>
</head>

<body>
<!--
    <div id="loader">Breath ... in for 4 ... hold for 7 ... out for 8</div>
-->
    <div class="container">
  <div class="col-md-4" id="in">
      <div class="row small">
          in for 4
      </div>
      <div class="row large" id="inCount">
          0
      </div>
  </div>
  <div class="col-md-4" id="hold">
      <div class="row small">
          hold for 7
      </div>
      <div class="row large" id="holdCount">
          0
      </div>
  </div>
  <div class="col-md-4" id="out">
      <div class="row small">
          out for 8
      </div>
      <div class="row large" id="outCount">
          0
      </div>
  </div>  
</div>



    <script>
        var colors =["#599d4c",
"#98a77c",
"#5dba3a",
"#616d35",
"#a2a73c"]
      
    var currentColor = colors[Math.round(Math.random()*colors.length)]
    d3.selectAll(".small").style("color",currentColor).style("opacity",0.8)
    d3.selectAll(".large").style("color",currentColor)
   
        
        
        function count(max,div){
            
        }
        var d = 0
        var myVar = setInterval(myTimer, 1000);

        function myTimer() {
            d+=1
            if(d%20==0){
                d3.selectAll("#inCount").style("opacity",0).html(0)
                d3.selectAll("#holdCount").style("opacity",0).html(0)
                d3.selectAll("#outCount").style("opacity",0).html(0)
                var currentColor = colors[Math.round(Math.random()*colors.length)]
                d3.selectAll(".small").style("color",currentColor)
                d3.selectAll(".large").style("color",currentColor)
            }
            else if(d%20<=4&&d%20>0){
                document.getElementById("inCount").innerHTML = d%20;
                d3.selectAll(".large").style("opacity",0.3)
                d3.selectAll("#inCount").style("opacity",.6).transition().duration(900).style("opacity",0)
               // if(d%20==0){d3.selectAll("#inCount").style("opacity",0)}
                
            }else if(d%20<=11 && d%20>=4){
                //document.getElementById("holdCount").innerHTML = d%20-4;
                d3.selectAll("#holdCount").html(d%20-4)
                d3.selectAll(".large").style("opacity",0.3)
                d3.selectAll("#holdCount").style("opacity",.6).transition().duration(900).style("opacity",0)
            }else{
                document.getElementById("outCount").innerHTML = d%20-11;
                d3.selectAll(".large").style("opacity",0.3)
                d3.selectAll("#outCount").style("opacity",.6).transition().duration(900).style("opacity",0)
            }
            
        }
        
    </script>

    </body>
</html>
    